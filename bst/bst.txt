-- recover bst or two nodes swapped in bst

-- https://www.youtube.com/watch?v=ZWGW7FminDM
-- https://www.geeksforgeeks.org/fix-two-swapped-nodes-of-bst/
-- https://practice.geeksforgeeks.org/problems/fixed-two-nodes-of-a-bst/1/#

class Solution:
    prev = None
    first = None
    last = None
    middle = None
    def correctBST(self, root):
        self.prev = float('-inf')
        self.sol(root)
        if self.first and self.last: self.first.data, self.last.data = self.last.data, self.first.data
        elif self.first and self.middle: self.first.data, self.middle.data = self.middle.data, self.first.data
        return 1
    def sol(self,root):
        if not root: return
        self.sol(root.left)
        if self.prev and root.data < self.prev.data:
            if not self.first:
                self.first = self.prev
                self.middle = root
            else:
                self.last = root
        self.prev = root
        self.sol(root.right)
        

